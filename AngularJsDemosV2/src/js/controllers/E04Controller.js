'use strict';

var data = [
    ["M", "F-4E -20-", "-", "-", "-", "-", "-", "-", "38", "42", "44", "46", "48", "50", "52", "54", "58", "60", "62", "64", "66", "70"],
    ["M", "Mirage 2000-5", "6", "10", "12", "16", "18", "22", "24", "26", "28", "30", "32", "34", "36", "38", "42", "44", "46", "48", "50", "54"],
    ["M", "Mirage 2000-5 -SC-", "12", "16", "20", "24", "28", "32", "34", "36", "38", "40", "42", "44", "46"],
    ["M", "Mirage 2000-5 -YY-", "12", "16", "20", "24", "28", "32", "34", "36", "38", "40", "42", "44", "46", "48", "52", "54", "56", "58", "60", "64"],
    ["M", "Mirage 2000-5 -MG-", "-", "-", "-", "-", "-", "-", "36", "40", "44", "48", "50", "52", "54", "56", "60", "62"],
    ["M", "F-16F", "-", "-", "-", "-", "-", "-", "32", "34", "36", "38", "40", "42", "44", "46", "50", "52", "54", "56", "58", "62"],
    ["M", "F-15E", "-", "-", "-", "-", "-", "-", "38", "42", "44", "46", "48", "50", "52", "54", "58", "60", "62", "64", "66", "70"],
    ["M", "F-15E -CH-", "-", "-", "-", "-", "-", "-", "36", "40", "42", "44", "46", "48", "50", "52", "56", "58", "60", "66", "64"],
    ["M", "F-15E -GM-", "-", "-", "-", "-", "-", "-", "40", "44", "46", "50", "52", "54", "56", "58", "62", "64"],
    ["M", "F-15E -TM-", "-", "-", "-", "-", "-", "-", "46", "50", "54", "60", "62", "64", "66", "68", "72", "74", "76", "78", "80", "84"],
    ["M", "F-15E -SR-", "-", "-", "-", "-", "-", "-", "46", "50", "54", "58", "60", "62", "64", "66", "70", "72", "74", "76", "78", "82"],
    ["M", "F-15E -GT-", "-", "-", "-", "32", "36", "40", "44", "48", "52", "56", "58", "60", "62", "64", "68"],
    ["M", "Rafale M -GG-", "-", "-", "-", "28", "32", "40", "44", "48", "52", "56", "58", "60", "62", "64", "68"],
    ["M", "ASF-X -NY-", "-", "-", "-", "-", "-", "-", "44", "48", "52", "56", "58", "60", "62", "64", "68", "70", "72", "74", "76", "80"],
    ["M", "F-35B", "-", "-", "-", "-", "-", "-", "46", "50", "52", "54", "56", "58", "60", "62", "66", "68", "70", "72", "74", "78"],
    ["M", "F-35B -TR-", "-", "-", "-", "-", "-", "-", "50", "54", "56", "58", "60", "62", "64", "66", "70", "72"],
    ["M", "X-02 -KN-", "-", "-", "-", "-", "-", "-", "48", "52", "56", "60", "62", "64", "66", "68", "72", "74", "76", "78", "80", "84"],
    ["A", "F-4G", "-", "-", "-", "-", "-", "-", "26", "28", "30", "32", "34", "36", "38", "40", "44", "46", "48", "50", "52", "56"],
    ["A", "AV-8B", "10", "14", "18", "20", "22", "26", "28", "30", "32", "34", "36", "38", "40", "42", "46", "48", "50", "52", "54", "58"],
    ["A", "AV-8B -AQ-", "14", "18", "22", "26", "30", "34", "36", "38", "40", "42", "44", "46", "48", "50", "54", "56"],
    ["A", "AV-8B -KM-", "14", "18", "22", "26", "30", "32", "34", "36", "38", "40", "42", "44", "46", "48", "52", "54", "56", "58", "60", "64"],
    ["A", "AV-8B -HB-", "14", "18", "22", "26", "30", "32", "34", "36", "38", "40", "42", "44", "46", "48", "52", "54", "56", "58", "60"],
    ["A", "Su-25TM 10", "14", "18", "20", "22", "26", "28", "30", "32", "34", "36", "38", "40", "42", "46", "48", "50", "52", "54", "58"],
    ["A", "Su-25TM -RV-", "-", "-", "-", "30", "34", "38", "42", "46", "50", "54", "56"],
    ["A", "Su-24M", "-", "-", "-", "-", "-", "-", "34", "36", "38", "40", "42", "44", "46", "48", "52", "54", "56", "58", "60", "64"],
    ["A", "F-2A -SG-", "-", "-", "-", "-", "-", "-", "36", "38", "40", "42", "44", "46", "48", "50", "54", "56", "58", "60", "62", "66"],
    ["A", "A-6E", "-", "-", "-", "28", "32", "36", "38", "40", "42", "44", "46", "48", "50", "52", "56", "58", "60", "62", "64", "68"],
    ["A", "A-6E -NT-", "-", "-", "-", "36", "40", "44", "48", "52", "56", "60", "62"],
    ["A", "Tornado", "-", "-", "-", "-", "-", "-", "28", "32", "36", "40", "42", "44", "46", "48", "52", "54", "56", "58", "60", "64"],
    ["A", "F-16XL", "16", "20", "24", "28", "32", "36", "38", "40", "42", "44", "46", "48", "50", "52", "56", "58", "60", "62", "64", "68"],
    ["A", "F-16XL -EX-", "16", "20", "24", "28", "32", "36", "40", "44", "46", "48", "50", "52", "54", "56", "58", "60", "62", "64", "66", "70"],
    ["A", "A-10A", "-", "-", "-", "-", "-", "-", "36", "38", "40", "42", "44", "46", "48", "50", "54", "56", "58", "60", "62", "66"],
    ["A", "A-10A -HH-", "-", "-", "-", "-", "-", "-", "36", "40", "44", "48", "50", "52", "54", "56", "60", "62", "64", "66", "68", "72"],
    ["A", "A-10A -DT-", "-", "-", "-", "-", "-", "-", "40", "44", "48", "52", "54", "56", "58", "60", "64", "66", "68", "70"],
    ["A", "A-10A -GR-", "-", "-", "-", "-", "-", "-", "36", "40", "42", "44", "46", "48", "50", "52", "56"],
    ["A", "A-10A -OR-", "-", "-", "-", "-", "-", "-", "40", "44", "48", "52", "54", "56", "58", "60", "64", "66", "68", "70", "72", "76"],
    ["A", "Su-34", "16", "20", "24", "28", "32", "36", "40", "42", "46", "48", "50", "52", "54", "56", "60", "62", "64", "66", "68", "72"],
    ["A", "Su-34 -CN-", "16", "20", "24", "28", "32", "36", "40", "44", "48", "52", "54", "56", "58", "60", "64", "66", "68", "70", "72", "76"],
    ["A", "Su-34 -AX-", "-", "-", "-", "26", "30", "34", "38", "42", "46", "50", "52", "54", "56", "58", "62", "64", "66", "68", "70", "74"],
    ["A", "ADA-01B", "-", "-", "-", "-", "-", "-"]
];


$(document).ready(function () {
    $("#inputDiv").resize(function () {
        alert("aaaaaaa");
    });
    
    //$(window).resize(function () {
    //    alert("aaaaaaa");
    //});
    $("button").click(function () {
        $(window).resize();
    });
});

(function (angular, jQuery) {
    angular.module("myApp", []).controller('controller', [
        '$scope', function ($scope) {
            $scope.item = "AAA";

            var refreshTableHeader = function() {
                $(".table_body tbody tr:nth-child({0})".replace("{0}", data.length - 1)).ready(function (a, b, c) {
                    var headerArray = $(".table_head thead tr th");
                    
                    $(".table_body thead tr th").each(function (index, item) {
                        headerArray[index].style.width = item.clientWidth.toString() + "px";
                    });
                });
            };

            $(window).off('resize').on('resize', function() {
                refreshTableHeader();
            });
            
            $scope.onTableResize = function () {
                console.log("onTableResize");
            };
            
            
            
            
            $scope.header = function () {
                var header = [];
                
                data[0].forEach(function (item, index) {
                    header.push("Column" + index);
                });
                
                return header;
            }();
            
            $scope.data = data;

            refreshTableHeader();

        }]);

})(angular, jQuery);